name: molecule test

on:
    push:
        branches:
            - master
            - develop
    schedule:
        - cron: '0 4 * * 0'

jobs:
    build:
        runs-on: ${{ matrix.os }}
        strategy:
            matrix:
                os: [ubuntu-18.04]
        steps:
          - name: checkout
            uses: actions/checkout@v2
            with:
              path: "${{ github.repository }}"
          - name: molecule
            uses: robertdebock/molecule-action@2.0.0
            with:
              image: ${{ matrix.image }}
              options: "--parallel all"
